import pandas as pd
import matplotlib.pyplot as plt
from matplotlib.backends.backend_pdf import PdfPages

# 데이터 정의
raw_data = {
    "method": ["GA1+GD1"] * 10 + ["GA2+GD2"] * 10 + ["GA3+GD3"] * 10 + ["IDK2+GD2"] * 10 + ["IDK1+GD1"] * 10 + ["IDK3+GD3"] * 10 + ["GA1+GD2"] * 10,
    "epochs": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] * 7,
    "Default": [
        0.5376, 0.5637, 0.5323, 0.4017, 0.3821, 0.4015, 0.3734, 0.1739, 0.0216, 0,
        0.5217, 0.5505, 0.5201, 0.3775, 0.431, 0.3639, 0.3325, 0.2988, 0.2253, 0.1631,
        0.5723, 0.5834, 0.558, 0.4151, 0.4812, 0.4443, 0.3193, 0.2, 0.0179, 0.0057,
        0.5685, 0.5542, 0.5616, 0.0471, 0.0111, 0.0348, 0.0375, 0.0389, 0.0134, 0.0201,
        0.5254, 0.5366, 0.5317, 0.1584, 0.1468, 0.127, 0.128, 0.0642, 0.0212, 0.0055,
        0.5722, 0.5679, 0.5336, 0.1942, 0.2058, 0.151, 0.1548, 0, 0, 0,
        0.5665, 0.5502, 0.5185, 0.4161, 0.443, 0.4358, 0.3665, 0.2875, 0.1215, 0.0437
    ],
    "ZeroThink": [
        0.4049, 0.406, 0.4125, 0.3743, 0.388, 0.3579, 0.353, 0.2071, 0.1179, 0.0331,
        0.4157, 0.4296, 0.4072, 0.3709, 0.4017, 0.3798, 0.362, 0.3124, 0.2031, 0.1978,
        0.4399, 0.4337, 0.4355, 0.374, 0.3924, 0.3923, 0.3079, 0.2035, 0.0301, 0.011,
        0.4151, 0.4198, 0.3998, 0.0842, 0.0668, 0.0637, 0.0304, 0.0249, 0.0257, 0.0281,
        0.4239, 0.418, 0.4138, 0.3433, 0.3705, 0.3416, 0.3334, 0.3224, 0.2002, 0.1371,
        0.4334, 0.4428, 0.4384, 0.4042, 0.3997, 0.3899, 0.3802, 0.2606, 0.0243, 0,
        0.4226, 0.4281, 0.4119, 0.4043, 0.4032, 0.4036, 0.3862, 0.3488, 0.2159, 0.1897
    ],
    "LessThink": [
        0.4828, 0.4909, 0.4862, 0.41, 0.4147, 0.4279, 0.3966, 0.2418, 0.1021, 0.0649,
        0.4848, 0.4755, 0.4777, 0.39, 0.4264, 0.3772, 0.3442, 0.3047, 0.2411, 0.2301,
        0.4899, 0.4868, 0.4748, 0.3868, 0.4512, 0.4076, 0.3682, 0.2333, 0.0152, 0.0153,
        0.4861, 0.4947, 0.4689, 0.0894, 0.0699, 0.0499, 0.0371, 0.0271, 0.0203, 0.023,
        0.4741, 0.4812, 0.4775, 0.3255, 0.3189, 0.3059, 0.2819, 0.2437, 0.1763, 0.1345,
        0.4751, 0.4769, 0.4737, 0.4206, 0.4419, 0.4129, 0.4126, 0.1456, 0, 0,
        0.4976, 0.4913, 0.4875, 0.4565, 0.4502, 0.4461, 0.4281, 0.3992, 0.2156, 0.1761
    ]
}

df = pd.DataFrame(raw_data)

# 각 그래프 개별 PDF로 저장
methods = df["method"].unique()
for method in methods:
    sub_df = df[df["method"] == method]
    filename = f"{method.replace('+', '_')}_think.pdf"
    with PdfPages(filename) as pdf:
        plt.figure(figsize=(8, 5))
        plt.plot(sub_df["epochs"], sub_df["Default"], marker='o', label='DefaultThink')
        plt.plot(sub_df["epochs"], sub_df["ZeroThink"], marker='s', label='ZeroThink')
        plt.plot(sub_df["epochs"], sub_df["LessThink"], marker='^', label='LessThink')
        plt.title(f'{method} - Think Strategies over Epochs')
        plt.xlabel('Epochs')
        plt.ylabel('Score')
        plt.ylim(0, 0.6)
        plt.grid(True)
        plt.legend()
        plt.tight_layout()
        pdf.savefig()
        plt.close()

print("저장완룐")
